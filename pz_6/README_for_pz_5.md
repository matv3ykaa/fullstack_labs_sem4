# Практическое занятие 5. Расширенный REST API

**Дисциплина:** Фронтенд и бэкенд разработка  
**Семестр:** 4 семестр, 2025/2026 уч. год  
**Преподаватели:** Загородних Николай Анатольевич, Краснослободцева Дарья Борисовна

---

## Описание работы

В рамках данного практического занятия выполнена доработка проекта из занятия №4. К существующему серверу на Express подключена автоматическая генерация документации с помощью Swagger (OpenAPI). Описаны схема сущности User и все CRUD-операции с использованием JSDoc-аннотаций. Документация доступна в интерактивном режиме по адресу `/api-docs`.

---

## Структура проекта

```text
project/
├── backend/
│   ├── app.js          # Сервер Express + Swagger документация
│   └── package.json
└── frontend/
    ├── index.html
    ├── vite.config.js
    ├── package.json
    └── src/
        ├── main.jsx
        ├── App.jsx
        ├── App.css
        ├── api/
        │   └── index.js        # Функции запросов к API через axios
        ├── components/
        │   ├── UserItem.jsx     # Карточка пользователя
        │   └── UserModal.jsx    # Форма создания и редактирования
        └── pages/
            └── UsersPage.jsx    # Главная страница
```

---

## Технологии

**Бэкенд:** Node.js, Express, nanoid, cors, swagger-jsdoc, swagger-ui-express  
**Фронтенд:** React, Vite, axios

---

## Запуск проекта

### Бэкенд

```bash
cd backend
npm install
node app.js
```

Сервер запускается на `http://localhost:3000`.  
Swagger UI доступен по адресу `http://localhost:3000/api-docs`.

### Фронтенд

```bash
cd frontend
npm install
npm run dev
```

Приложение открывается на `http://localhost:5173`.

---

## API

| Метод  | Путь               | Описание                        |
|--------|--------------------|---------------------------------|
| GET    | /api/users         | Получить список пользователей   |
| GET    | /api/users/:id     | Получить пользователя по ID     |
| POST   | /api/users         | Создать нового пользователя     |
| PATCH  | /api/users/:id     | Обновить данные пользователя    |
| DELETE | /api/users/:id     | Удалить пользователя            |

### Схема User

```json
{
  "id": "abc123",
  "name": "Петр",
  "age": 16
}
```

Поля `name` и `age` обязательны при создании. Поле `id` генерируется автоматически (6 символов, nanoid).

---

## Swagger документация

Документация генерируется из JSDoc-аннотаций в файле `app.js` с помощью библиотеки `swagger-jsdoc`. Каждый эндпоинт снабжён описанием, параметрами, схемой тела запроса и возможными кодами ответа. Схема сущности `User` описана в блоке `components/schemas` и переиспользуется во всех эндпоинтах через `$ref`.

Через интерфейс Swagger UI можно отправить реальный запрос к серверу, нажав кнопку **Try it out** рядом с любым эндпоинтом.
